// Language Management
const translations = {
    en: {
        // Navigation
        'nav.features': 'Features',
        'nav.download': 'Download',
        
        // Hero Section
        'hero.title': 'Control Your <span class="gradient-text">Investments</span> Anytime',
        'hero.description': 'Advanced mobile application for tracking profits and losses of your products. Make smart business decisions thanks to detailed real-time analytics.',
        'hero.about': 'About ShelfNest',
        'hero.appDesc': 'ShelfNest is an application for comprehensive investment product management.',
        'hero.keyBenefits': 'Key benefits:',
        'hero.benefit1': 'Quickly add and edit products – full data fields and image support',
        'hero.benefit2': 'Tracking values in multiple currencies',
        'hero.benefit3': 'Extensive statistics and charts',
        'hero.benefit4': 'Data import/export',
        'hero.benefit5': 'Multi-select mode and bulk operations (delete, export)',
        'hero.interface': 'Interface and Usability:',
        'hero.interface1': 'Responsive interface',
        'hero.interface2': 'Light/Dark mode',
        'hero.interface3': 'Loading animations',
        'hero.interface4': 'Visual and audio notification system',
        'hero.interface5': 'Built-in instructions',
        
        // Features
        'features.title': 'Powerful Features',
        'feature1.title': 'Real-time Analysis',
        'feature1.desc': 'Track investment value changes with updates every 5 minutes',
        'feature2.title': 'Profit/Loss Reporting',
        'feature2.desc': 'Automatic calculation and categorization of all transactions',
        'feature3.title': 'Smart Notifications',
        'feature3.desc': 'Receive alerts for significant portfolio value changes',
        
        // Download
        'download.title': 'Download the App Today',
        'download.subtitle': 'Available on Android Platform',
        'download.button': 'Download on Google Play',
        
        // Footer
        'footer.desc': 'Advanced investment management tool',
        'footer.contact': 'Contact',
        'footer.info': 'Information',
        'footer.privacy': 'Privacy Policy (ShelfNest)',
        
        // Privacy Policy
        'privacy.title': 'Privacy Policy',
        'privacy.content': `
            <p><strong>ShelfNest Privacy Policy</strong></p>
            
            <p>This privacy policy applies to the ShelfNest app (hereby referred to as "Application") for mobile devices that was created by (hereby referred to as "Service Provider") as a Free service. This service is intended for use "AS IS".</p>

            <h2>Information Collection and Use</h2>
            <p>The Application collects information when you download and use it. This information may include:</p>
            <ul>
                <li>Your device's Internet Protocol address (e.g., IP address)</li>
                <li>The pages of the Application that you visit, the time and date of your visit, the time spent on those pages</li>
                <li>The time spent on the Application</li>
                <li>The operating system you use on your mobile device</li>
            </ul>
            
            <p>The Application does not gather precise information about the location of your mobile device.</p>
            
            <p>The Service Provider may use the information you provided to contact you from time to time to provide you with important information, required notices and marketing promotions.</p>

            <h2>Third Party Access</h2>
            <p>Only aggregated, anonymized data is periodically transmitted to external services to aid the Service Provider in improving the Application and their service. The Service Provider may share your information with third parties in the ways that are described in this privacy statement.</p>
            
            <p>The Service Provider may disclose User Provided and Automatically Collected Information:</p>
            <ul>
                <li>As required by law, such as to comply with a subpoena, or similar legal process;</li>
                <li>When they believe in good faith that disclosure is necessary to protect their rights, protect your safety or the safety of others, investigate fraud, or respond to a government request;</li>
                <li>With their trusted services providers who work on their behalf, do not have an independent use of the information we disclose to them, and have agreed to adhere to the rules set forth in this privacy statement.</li>
            </ul>

            <h2>Opt-Out Rights</h2>
            <p>You can stop all collection of information by the Application easily by uninstalling it. You may use the standard uninstall processes as may be available as part of your mobile device or via the mobile application marketplace or network.</p>

            <h2>Data Retention Policy</h2>
            <p>The Service Provider will retain User Provided data for as long as you use the Application and for a reasonable time thereafter. The Service Provider will retain Automatically Collected information for up to 24 months and thereafter may store it in aggregate. If you'd like them to delete User Provided Data that you have provided via the Application, please contact them at magazynproduktowapp@gmail.com and they will respond in a reasonable time.</p>

            <h2>Children</h2>
            <p>The Service Provider does not use the Application to knowingly solicit data from or market to children under the age of 13.</p>

            <h2>Security</h2>
            <p>The Service Provider is concerned about safeguarding the confidentiality of your information. The Service Provider provides physical, electronic, and procedural safeguards to protect information we process and maintain.</p>

            <h2>Changes</h2>
            <p>This Privacy Policy may be updated from time to time for any reason. The Service Provider will notify you of any changes to their Privacy Policy by posting the new Privacy Policy here. You are advised to consult this Privacy Policy regularly for any changes, as continued use is deemed approval of all changes.</p>

            <h2>Your Consent</h2>
            <p>By using the Application, you are consenting to the processing of your information as set forth in this Privacy Policy now and as amended by us.</p>

            <h2>Contact Us</h2>
            <p>If you have any questions regarding privacy while using the Application, or have questions about our practices, please contact the Service Provider via email at: magazynproduktowapp@gmail.com</p>
        `
    },
    pl: {
        // Navigation
        'nav.features': 'Funkcje',
        'nav.download': 'Pobierz',
        
        // Hero Section
        'hero.title': 'Kontroluj swoje <span class="gradient-text">inwestycje</span> w każdej chwili',
        'hero.description': 'Zaawansowana aplikacja mobilna do śledzenia zysków i strat Twoich produktów. Podejmuj mądre decyzje biznesowe dzięki szczegółowym analitykom w czasie rzeczywistym.',
        'hero.about': 'O ShelfNest',
        'hero.appDesc': 'ShelfNest to aplikacja do kompleksowego zarządzania produktami inwestycyjnymi.',
        'hero.keyBenefits': 'Kluczowe korzyści:',
        'hero.benefit1': 'Szybkie dodawanie i edycja produktów – pełne pola danych i obsługa obrazów',
        'hero.benefit2': 'Śledzenie wartości w wielu walutach',
        'hero.benefit3': 'Rozbudowane statystyki i wykresy',
        'hero.benefit4': 'Import/eksport danych',
        'hero.benefit5': 'Tryb wielokrotnego wyboru i operacje zbiorcze (usuwanie, eksport)',
        'hero.interface': 'Interfejs i użyteczność:',
        'hero.interface1': 'Responsywny interfejs',
        'hero.interface2': 'Tryb jasny/ciemny',
        'hero.interface3': 'Animacje ładowania',
        'hero.interface4': 'System powiadomień wizualnych i dźwiękowych',
        'hero.interface5': 'Wbudowane instrukcje',
        
        // Features
        'features.title': 'Potężne funkcje',
        'feature1.title': 'Analiza w czasie rzeczywistym',
        'feature1.desc': 'Śledź zmiany wartości inwestycji z aktualizacjami co 5 minut',
        'feature2.title': 'Raportowanie zysków/strat',
        'feature2.desc': 'Automatyczne obliczanie i kategoryzacja wszystkich transakcji',
        'feature3.title': 'Inteligentne powiadomienia',
        'feature3.desc': 'Otrzymuj alerty przy znaczących zmianach wartości portfela',
        
        // Download
        'download.title': 'Pobierz aplikację już dziś',
        'download.subtitle': 'Dostępna na platformie Android',
        'download.button': 'Pobierz z Google Play',
        
        // Footer
        'footer.desc': 'Zaawansowane narzędzie do zarządzania inwestycjami',
        'footer.contact': 'Kontakt',
        'footer.info': 'Informacje',
        'footer.privacy': 'Polityka prywatności (ShelfNest)',
        
        // Privacy Policy
        'privacy.title': 'Polityka Prywatności',
        'privacy.content': `
            <p><strong>Polityka Prywatności ShelfNest</strong></p>
            
            <p>Niniejsza Polityka Prywatności odnosi się do aplikacji mobilnej ShelfNest (zwanej dalej "Aplikacją"), która została utworzona przez (zwanego dalej "Dostawcą Usługi") jako bezpłatna usługa. Usługa jest przeznaczona do użytku "TAK JAK JEST".</p>

            <h2>Gromadzenie i wykorzystanie informacji</h2>
            <p>Aplikacja gromadzi informacje podczas jej pobierania i używania. Informacje te mogą obejmować:</p>
            <ul>
                <li>Adres protokołu internetowego urządzenia (np. adres IP)</li>
                <li>Strony Aplikacji, które odwiedzasz, czas i datę wizyty, czas spędzony na tych stronach</li>
                <li>Czas spędzony w Aplikacji</li>
                <li>System operacyjny używany na urządzeniu mobilnym</li>
            </ul>
            
            <p>Aplikacja nie gromadzi precyzyjnych informacji o lokalizacji urządzenia mobilnego.</p>
            
            <p>Dostawca Usługi może wykorzystywać podane przez Ciebie informacje, aby od czasu do czasu się z Tobą kontaktować w celu przekazywania ważnych informacji, wymaganych powiadomień i promocji marketingowych.</p>

            <h2>Dostęp stron trzecich</h2>
            <p>Tylko zagregowane, zanonimizowane dane są okresowo przesyłane do usług zewnętrznych w celu pomocy Dostawcy Usługi w ulepszaniu Aplikacji i ich usług. Dostawca Usługi może udostępniać Twoje informacje stronom trzecim w sposób opisany w niniejszym oświadczeniu o ochronie prywatności.</p>
            
            <p>Dostawca Usługi może ujawniać informacje dostarczone przez użytkownika i automatycznie gromadzone:</p>
            <ul>
                <li>Zgodnie z wymogami prawa, np. w celu wykonania wezwania sądowego lub podobnej procedury prawnej;</li>
                <li>Kiedy w dobrej wierze uważają, że ujawnienie jest konieczne w celu ochrony ich praw, ochrony Twojego bezpieczeństwa lub bezpieczeństwa innych, zbadania oszustw lub odpowiedzi na żądanie rządowe;</li>
                <li>Z zaufanymi dostawcami usług, którzy pracują w ich imieniu, nie mają niezależnego wykorzystania informacji, które im ujawniamy i zgodzili się przestrzegać zasad określonych w niniejszym oświadczeniu o ochronie prywatności.</li>
            </ul>

            <h2>Prawa do rezygnacji</h2>
            <p>Możesz łatwo zatrzymać całe gromadzenie informacji przez Aplikację, odinstalowując ją. Możesz użyć standardowych procesów odinstalowywania, które mogą być dostępne jako część urządzenia mobilnego lub za pośrednictwem rynku aplikacji mobilnych lub sieci.</p>

            <h2>Polityka przechowywania danych</h2>
            <p>Dostawca Usługi będzie przechowywać dane dostarczone przez użytkownika tak długo, jak używasz Aplikacji i przez rozsądny czas thereafter. Dostawca Usługi będzie przechowywać automatycznie gromadzone informacje do 24 miesięcy, a następnie może przechowywać je w formie zagregowanej. Jeśli chcesz, aby usunęli dane dostarczone przez użytkownika, które podałeś za pośrednictwem Aplikacji, skontaktuj się z nimi pod adresem magazynproduktowapp@gmail.com, a odpowiedzą w rozsądnym czasie.</p>

            <h2>Dzieci</h2>
            <p>Dostawca Usługi nie używa Aplikacji do celowego pozyskiwania danych od dzieci w wieku poniżej 13 lat lub marketingu skierowanego do nich.</p>

            <h2>Bezpieczeństwo</h2>
            <p>Dostawca Usługi jest zaniepokojony ochroną poufności Twoich informacji. Dostawca Usługi zapewnia fizyczne, elektroniczne i proceduralne zabezpieczenia w celu ochrony przetwarzanych i utrzymywanych przez nas informacji.</p>

            <h2>Zmiany</h2>
            <p>Niniejsza Polityka Prywatności może być od czasu do czasu aktualizowana z jakiegokolwiek powodu. Dostawca Usługi powiadomi Cię o wszelkich zmianach w ich Polityce Prywatności, publikując nową Politykę Prywatności tutaj. Zaleca się regularne zapoznawanie się z tą Polityką Prywatności pod kątem wszelkich zmian, ponieważ dalsze używanie jest uznawane za zatwierdzenie wszystkich zmian.</p>

            <h2>Twoja zgoda</h2>
            <p>Korzystając z Aplikacji, wyrażasz zgodę na przetwarzanie Twoich informacji zgodnie z niniejszą Polityką Prywatności obecnie i w formie zmienionej przez nas.</p>

            <h2>Skontaktuj się z nami</h2>
            <p>Jeśli masz jakiekolwiek pytania dotyczące prywatności podczas korzystania z Aplikacji lub masz pytania dotyczące naszych praktyk, skontaktuj się z Dostawcą Usługi pocztą e-mail pod adresem: magazynproduktowapp@gmail.com</p>
        `
    }
};

// Set language function
function setLanguage(lang) {
    // Update active button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.lang === lang) {
            btn.classList.add('active');
        }
    });

    // Update all translatable elements
    const elements = document.querySelectorAll('[data-translate]');
    elements.forEach(element => {
        const key = element.dataset.translate;
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[lang][key];
            } else {
                element.innerHTML = translations[lang][key];
            }
        }
    });

    // Update page title
    document.title = lang === 'en' ? 'ShelfNest - Track Your Profits and Losses' : 'ShelfNest - Śledź swoje zyski i straty';

    // Store language preference
    localStorage.setItem('preferredLanguage', lang);
}

// Initialize language
document.addEventListener('DOMContentLoaded', function() {
    // Set preferred language or default to English
    const preferredLang = localStorage.getItem('preferredLanguage') || 'en';
    setLanguage(preferredLang);

    // Add click events to language buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            setLanguage(this.dataset.lang);
        });
    });

    // Hero image rotation
    const heroImage = document.querySelector('.hero-image');
    if (heroImage) {
        let currentImage = 1;
        const totalImages = 14;
        const interval = 2000;

        function changeImage() {
            heroImage.style.opacity = 0;
            setTimeout(() => {
                currentImage++;
                if (currentImage > totalImages) currentImage = 1;
                heroImage.src = `${currentImage}.jpg`;
                heroImage.style.opacity = 1;
            }, 400);
        }

        setInterval(changeImage, interval);
    }

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Navbar scroll effect
    window.addEventListener('scroll', () => {
        const navbar = document.querySelector('.navbar');
        if (window.scrollY > 100) {
            navbar.style.background = 'rgba(255, 255, 255, 0.98)';
            navbar.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.1)';
        } else {
            navbar.style.background = 'rgba(255, 255, 255, 0.95)';
            navbar.style.boxShadow = 'none';
        }
    });

    // Intersection Observer for animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    // Observe elements for animation
    document.querySelectorAll('.feature-card, .download-content, .hero-content').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });

    // Page load transition
    window.addEventListener('load', () => {
        document.body.style.opacity = '0';
        document.body.style.transition = 'opacity 0.3s ease';
        
        setTimeout(() => {
            document.body.style.opacity = '1';
        }, 100);
    });
});